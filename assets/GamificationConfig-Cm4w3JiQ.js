import{j as e}from"./index-DPVYnWcF.js";import{r}from"./vendor-DD54NZMZ.js";import{F as i,f as D,e as f,C as l,T as se,p as N,B as c,aq as ie,u as O,A as k,ag as V,y as _,aG as ae,as as v,$ as b,a3 as j,o as ne,M as q,I as o,H as R,am as y,l as B,J as g,ak as E,s as u,ae as $}from"./antd-pmzi8FkM.js";const{Title:re,Text:xe,Paragraph:le}=se,{TabPane:F}=O,{Option:a}=b,ce=[{id:1,name:"Sales Rookie",description:"Complete first 10 sales",pointsAwarded:100,badgeImage:"ðŸŒŸ",criteria:"sales_count >= 10",difficulty:"easy",status:"active"},{id:2,name:"Tech Wizard",description:"Successfully resolve 50 technical issues",pointsAwarded:250,badgeImage:"ðŸ”§",criteria:"tech_issues_resolved >= 50",difficulty:"medium",status:"active"},{id:3,name:"Customer Champion",description:"Receive 20 five-star customer ratings",pointsAwarded:300,badgeImage:"â­",criteria:"five_star_ratings >= 20",difficulty:"medium",status:"active"},{id:4,name:"Sales Master",description:"Achieve 100 million VND in sales within a month",pointsAwarded:500,badgeImage:"ðŸ†",criteria:"monthly_sales >= 100000000",difficulty:"hard",status:"active"},{id:5,name:"Team Player",description:"Help 10 colleagues with their tasks",pointsAwarded:150,badgeImage:"ðŸ¤",criteria:"colleague_assists >= 10",difficulty:"easy",status:"inactive"}],de=[{id:1,name:"Extra Day Off",description:"Get an additional day of paid leave",pointsCost:1e3,category:"time_off",availability:"unlimited",status:"active"},{id:2,name:"Lunch Voucher",description:"200,000 VND voucher for lunch",pointsCost:500,category:"voucher",availability:"20",status:"active"},{id:3,name:"Training Course",description:"Access to premium online training course",pointsCost:800,category:"learning",availability:"10",status:"active"},{id:4,name:"Team Dinner",description:"Dinner treat for your team (up to 5 people)",pointsCost:1500,category:"experience",availability:"5",status:"active"},{id:5,name:"Bonus Payment",description:"500,000 VND bonus added to salary",pointsCost:2e3,category:"financial",availability:"unlimited",status:"inactive"}],oe={basePoints:100,pointsMultiplier:1.5,maxLevel:20,levelUpNotification:!0,showLeaderboard:!0,resetPointsPeriod:"never"},pe=()=>{const[U,z]=r.useState("1"),[m,w]=r.useState(ce),[h,I]=r.useState(de),[T,G]=r.useState(oe),[H,A]=r.useState(!1),[K,C]=r.useState(!1),[S,W]=r.useState(null),[P,J]=r.useState(null),[x]=i.useForm(),[p]=i.useForm(),[Q]=i.useForm(),L=(t=null)=>{W(t),t?x.setFieldsValue({name:t.name,description:t.description,pointsAwarded:t.pointsAwarded,badgeImage:t.badgeImage,criteria:t.criteria,difficulty:t.difficulty,status:t.status==="active"}):(x.resetFields(),x.setFieldsValue({status:!0,difficulty:"medium",pointsAwarded:100})),A(!0)},Y=()=>{x.validateFields().then(t=>{const s={...t,status:t.status?"active":"inactive"};if(S){const n=m.map(d=>d.id===S.id?{...d,...s}:d);w(n),u.success("Achievement updated successfully")}else{const n={id:m.length+1,...s};w([...m,n]),u.success("Achievement added successfully")}A(!1)}).catch(t=>{console.log("Validation error:",t)})},M=(t=null)=>{J(t),t?p.setFieldsValue({name:t.name,description:t.description,pointsCost:t.pointsCost,category:t.category,availability:t.availability,status:t.status==="active"}):(p.resetFields(),p.setFieldsValue({status:!0,category:"voucher",availability:"unlimited"})),C(!0)},X=()=>{p.validateFields().then(t=>{const s={...t,status:t.status?"active":"inactive"};if(P){const n=h.map(d=>d.id===P.id?{...d,...s}:d);I(n),u.success("Reward updated successfully")}else{const n={id:h.length+1,...s};I([...h,n]),u.success("Reward added successfully")}C(!1)}).catch(t=>{console.log("Validation error:",t)})},Z=t=>{G({...T,...t}),u.success("Level settings updated successfully")},ee=[{title:"Badge",dataIndex:"badgeImage",key:"badgeImage",render:t=>e.jsx("span",{style:{fontSize:"24px"},children:t})},{title:"Achievement",key:"achievement",render:(t,s)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold"},children:s.name}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)"},children:s.description})]}),sorter:(t,s)=>t.name.localeCompare(s.name)},{title:"Points",dataIndex:"pointsAwarded",key:"pointsAwarded",sorter:(t,s)=>t.pointsAwarded-s.pointsAwarded},{title:"Difficulty",dataIndex:"difficulty",key:"difficulty",render:t=>{const s=t==="easy"?"green":t==="medium"?"blue":"red";return e.jsx(R,{color:s,children:t.toUpperCase()})},filters:[{text:"Easy",value:"easy"},{text:"Medium",value:"medium"},{text:"Hard",value:"hard"}],onFilter:(t,s)=>s.difficulty===t},{title:"Status",dataIndex:"status",key:"status",render:t=>t==="active"?e.jsx(y,{status:"success",text:"Active"}):e.jsx(y,{status:"error",text:"Inactive"}),filters:[{text:"Active",value:"active"},{text:"Inactive",value:"inactive"}],onFilter:(t,s)=>s.status===t},{title:"Actions",key:"actions",render:(t,s)=>e.jsxs(B,{children:[e.jsx(g,{title:"Edit",children:e.jsx(c,{type:"text",icon:e.jsx(E,{}),onClick:()=>L(s)})}),e.jsx(g,{title:"Delete",children:e.jsx(c,{type:"text",danger:!0,icon:e.jsx($,{}),onClick:()=>{w(m.filter(n=>n.id!==s.id)),u.success("Achievement deleted")}})})]})}],te=[{title:"Reward",key:"reward",render:(t,s)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold"},children:s.name}),e.jsx("div",{style:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)"},children:s.description})]}),sorter:(t,s)=>t.name.localeCompare(s.name)},{title:"Points Cost",dataIndex:"pointsCost",key:"pointsCost",sorter:(t,s)=>t.pointsCost-s.pointsCost},{title:"Category",dataIndex:"category",key:"category",render:t=>{const s={time_off:{color:"purple",icon:"ðŸ•’"},voucher:{color:"green",icon:"ðŸŽ«"},learning:{color:"blue",icon:"ðŸ“š"},experience:{color:"magenta",icon:"ðŸŽ­"},financial:{color:"gold",icon:"ðŸ’°"}};return e.jsxs(R,{color:s[t]?.color||"default",children:[s[t]?.icon," ",t.replace("_"," ")]})},filters:[{text:"Time Off",value:"time_off"},{text:"Voucher",value:"voucher"},{text:"Learning",value:"learning"},{text:"Experience",value:"experience"},{text:"Financial",value:"financial"}],onFilter:(t,s)=>s.category===t},{title:"Availability",dataIndex:"availability",key:"availability",render:t=>t==="unlimited"?e.jsx(R,{color:"green",children:"Unlimited"}):e.jsxs("span",{children:[t," remaining"]})},{title:"Status",dataIndex:"status",key:"status",render:t=>t==="active"?e.jsx(y,{status:"success",text:"Active"}):e.jsx(y,{status:"error",text:"Inactive"}),filters:[{text:"Active",value:"active"},{text:"Inactive",value:"inactive"}],onFilter:(t,s)=>s.status===t},{title:"Actions",key:"actions",render:(t,s)=>e.jsxs(B,{children:[e.jsx(g,{title:"Edit",children:e.jsx(c,{type:"text",icon:e.jsx(E,{}),onClick:()=>M(s)})}),e.jsx(g,{title:"Delete",children:e.jsx(c,{type:"text",danger:!0,icon:e.jsx($,{}),onClick:()=>{I(h.filter(n=>n.id!==s.id)),u.success("Reward deleted")}})})]})}];return e.jsxs("div",{className:"gamification-config-container",style:{padding:"24px"},children:[e.jsxs(D,{children:[e.jsxs(f,{justify:"space-between",align:"middle",style:{marginBottom:16},children:[e.jsxs(l,{children:[e.jsxs(re,{level:2,children:[e.jsx(N,{})," Gamification Configuration"]}),e.jsx(le,{children:"Configure achievements, rewards, and gamification settings for your staff"})]}),e.jsx(l,{children:e.jsx(c,{type:"primary",icon:e.jsx(ie,{}),children:"Save All Settings"})})]}),e.jsxs(O,{activeKey:U,onChange:z,children:[e.jsxs(F,{tab:e.jsxs("span",{children:[e.jsx(ae,{})," Achievements"]}),children:[e.jsx(k,{message:"Staff Achievements",description:"Create and manage achievements that staff members can earn by meeting specific criteria.",type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsx("div",{style:{marginBottom:16},children:e.jsx(c,{type:"primary",icon:e.jsx(V,{}),onClick:()=>L(),children:"Add Achievement"})}),e.jsx(_,{columns:ee,dataSource:m,rowKey:"id"})]},"1"),e.jsxs(F,{tab:e.jsxs("span",{children:[e.jsx(N,{})," Rewards"]}),children:[e.jsx(k,{message:"Staff Rewards",description:"Create rewards that staff can redeem with points earned from achievements.",type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsx("div",{style:{marginBottom:16},children:e.jsx(c,{type:"primary",icon:e.jsx(V,{}),onClick:()=>M(),children:"Add Reward"})}),e.jsx(_,{columns:te,dataSource:h,rowKey:"id"})]},"2"),e.jsxs(F,{tab:e.jsxs("span",{children:[e.jsx(ne,{})," Level System"]}),children:[e.jsx(k,{message:"Staff Level System",description:"Configure how staff members level up and progress through the gamification system.",type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsx(D,{title:"Level Settings",bordered:!1,children:e.jsxs(i,{layout:"vertical",initialValues:T,onFinish:Z,form:Q,children:[e.jsxs(f,{gutter:24,children:[e.jsx(l,{span:12,children:e.jsx(i.Item,{name:"basePoints",label:"Base Points for Level 1",rules:[{required:!0,message:"Please enter base points"}],children:e.jsx(v,{min:1,style:{width:"100%"}})})}),e.jsx(l,{span:12,children:e.jsx(i.Item,{name:"pointsMultiplier",label:"Points Multiplier Between Levels",rules:[{required:!0,message:"Please enter points multiplier"}],tooltip:"The multiplier applied to determine points needed for next level",children:e.jsx(v,{min:1,step:.1,style:{width:"100%"}})})})]}),e.jsx(i.Item,{name:"maxLevel",label:"Maximum Level",rules:[{required:!0,message:"Please enter maximum level"}],children:e.jsx(v,{min:1,max:100,style:{width:"100%"}})}),e.jsx(i.Item,{name:"resetPointsPeriod",label:"Points Reset Period",children:e.jsxs(b,{children:[e.jsx(a,{value:"never",children:"Never"}),e.jsx(a,{value:"monthly",children:"Monthly"}),e.jsx(a,{value:"quarterly",children:"Quarterly"}),e.jsx(a,{value:"yearly",children:"Yearly"})]})}),e.jsx(i.Item,{name:"levelUpNotification",valuePropName:"checked",label:"Level Up Notifications",children:e.jsx(j,{})}),e.jsx(i.Item,{name:"showLeaderboard",valuePropName:"checked",label:"Show Leaderboard",children:e.jsx(j,{})}),e.jsx(i.Item,{children:e.jsx(c,{type:"primary",htmlType:"submit",children:"Save Level Settings"})})]})})]},"3")]})]}),e.jsx(q,{title:S?"Edit Achievement":"Add New Achievement",visible:H,onOk:Y,onCancel:()=>A(!1),width:600,children:e.jsxs(i,{form:x,layout:"vertical",children:[e.jsx(i.Item,{name:"name",label:"Achievement Name",rules:[{required:!0,message:"Please enter achievement name"}],children:e.jsx(o,{})}),e.jsx(i.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter achievement description"}],children:e.jsx(o.TextArea,{rows:3})}),e.jsxs(f,{gutter:16,children:[e.jsx(l,{span:12,children:e.jsx(i.Item,{name:"pointsAwarded",label:"Points Awarded",rules:[{required:!0,message:"Please enter points"}],children:e.jsx(v,{min:1,style:{width:"100%"}})})}),e.jsx(l,{span:12,children:e.jsx(i.Item,{name:"difficulty",label:"Difficulty Level",rules:[{required:!0,message:"Please select difficulty"}],children:e.jsxs(b,{children:[e.jsx(a,{value:"easy",children:"Easy"}),e.jsx(a,{value:"medium",children:"Medium"}),e.jsx(a,{value:"hard",children:"Hard"})]})})})]}),e.jsx(i.Item,{name:"badgeImage",label:"Badge Emoji",children:e.jsx(o,{})}),e.jsx(i.Item,{name:"criteria",label:"Achievement Criteria",tooltip:"Enter the criteria as a logical expression (e.g., 'sales_count >= 10')",rules:[{required:!0,message:"Please enter achievement criteria"}],children:e.jsx(o,{})}),e.jsx(i.Item,{name:"status",valuePropName:"checked",label:"Status",children:e.jsx(j,{checkedChildren:"Active",unCheckedChildren:"Inactive"})})]})}),e.jsx(q,{title:P?"Edit Reward":"Add New Reward",visible:K,onOk:X,onCancel:()=>C(!1),width:600,children:e.jsxs(i,{form:p,layout:"vertical",children:[e.jsx(i.Item,{name:"name",label:"Reward Name",rules:[{required:!0,message:"Please enter reward name"}],children:e.jsx(o,{})}),e.jsx(i.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter reward description"}],children:e.jsx(o.TextArea,{rows:3})}),e.jsxs(f,{gutter:16,children:[e.jsx(l,{span:12,children:e.jsx(i.Item,{name:"pointsCost",label:"Points Cost",rules:[{required:!0,message:"Please enter points cost"}],children:e.jsx(v,{min:1,style:{width:"100%"}})})}),e.jsx(l,{span:12,children:e.jsx(i.Item,{name:"category",label:"Reward Category",rules:[{required:!0,message:"Please select category"}],children:e.jsxs(b,{children:[e.jsx(a,{value:"time_off",children:"Time Off"}),e.jsx(a,{value:"voucher",children:"Voucher"}),e.jsx(a,{value:"learning",children:"Learning"}),e.jsx(a,{value:"experience",children:"Experience"}),e.jsx(a,{value:"financial",children:"Financial"})]})})})]}),e.jsx(i.Item,{name:"availability",label:"Availability",tooltip:"Enter number of rewards available or 'unlimited'",rules:[{required:!0,message:"Please enter availability"}],children:e.jsx(o,{})}),e.jsx(i.Item,{name:"status",valuePropName:"checked",label:"Status",children:e.jsx(j,{checkedChildren:"Active",unCheckedChildren:"Inactive"})})]})})]})};export{pe as default};
